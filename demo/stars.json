{
  "id": "/star",
  "apps": [
    {
      "id": "backend",
      "uris": ["file:///star/star-probe-v0.5.0-linux-x86_64"],
      "cmd": "chmod u+x ./star-probe* && ./star-probe-v0.5.0-linux-x86_64 --urls=http://frontend.star.marathon.mesos:9000/status,http://load-balancer.star.marathon.mesos:9000/status,http://probe-d.star.marathon.mesos:9000/status",
      "cpus": 0.1,
      "mem": 64.0,
      "ipAddress": {
        "labels": {"tier": "backend"},
        "discovery": {
          "ports": [
            { "name": "status", "number": 9000, "protocol": "tcp" }
          ]
        }
      }
    },
    {
      "id": "frontend",
      "uris": ["file:///star/star-probe-v0.5.0-linux-x86_64"],
      "cmd": "chmod u+x ./star-probe* && ./star-probe-v0.5.0-linux-x86_64 --urls=http://backend.star.marathon.mesos:9000/status,http://load-balancer.star.marathon.mesos:9000/status,http://probe-d.star.marathon.mesos:9000/status",
      "cpus": 0.1,
      "mem": 64.0,
      "ipAddress": {
        "labels": {"tier": "frontend"},
        "discovery": {
          "ports": [
            { "name": "status", "number": 9000, "protocol": "tcp" }
          ]
        }
      }
    },
    {
      "id": "load-balancer",
      "uris": ["file:///star/star-probe-v0.5.0-linux-x86_64"],
      "cmd": "chmod u+x ./star-probe* && ./star-probe-v0.5.0-linux-x86_64 --urls=http://backend.star.marathon.mesos:9000/status,http://frontend.star.marathon.mesos:9000/status,http://probe-d.star.marathon.mesos:9000/status",
      "cpus": 0.1,
      "mem": 64.0,
      "ipAddress": {
        "groups": ["public"],
        "discovery": {
          "ports": [
            { "name": "status", "number": 9000, "protocol": "tcp" }
          ]
        }
      }
    },
    {
      "id": "ui-webserver",
      "uris": [
        "file:///star/star-collect-v0.5.0-linux-x86_64",
        "file:///star/star-resources.json"
      ],
      "cmd": "chmod u+x ./star-collect* && ./star-collect-v0.5.0-linux-x86_64 --resources-file=star-resources.json",
      "cpus": 0.2,
      "mem": 64.0,
      "ipAddress": {
        "labels": {"tier": "nope"}, 
        "discovery": {
          "ports": [{ "name": "status", "number": 9001, "protocol": "tcp" }]
        }
      }
    }
  ]
}
